import React from 'react'
import { Redirect, useLocation } from "react-router-dom"
import StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth'
import "../../styles/login.scss";
import { useStore } from "../../store/hook"
import { auth } from '../../services/firebase';
import { observer } from 'mobx-react-lite';

const LoginPage = observer(() => {
  const location = useLocation();
  const { currentUser, firebaseConfig } = useStore();
  let path = "/dashboard";
  console.log("LOGIN ")
  if (location.state?.from !== undefined)
    path = location.state.from.pathname
  return (
    currentUser ?
      <Redirect
        to={{
          pathname: path,
          state: { from: location }
        }}
      />
      :
      <div id="login">
      <div className="container">
        <div className="row" style={{padding:'5px 34px 10px'}}>
          <svg width="183" height="40" viewBox="0 0 183 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9.44329 37.4167H3.09349V18.8852H0V12.5766H3.09349V11.3937C3.09349 9.86295 3.38036 8.42496 3.95409 7.07974C4.54332 5.73453 5.3419 4.56713 6.3498 3.57755C7.37321 2.5725 8.55944 1.78393 9.90848 1.21182C11.2575 0.624257 12.6996 0.330475 14.2347 0.330475H19.0029V6.63907H14.2347C13.5524 6.63907 12.9167 6.76277 12.3275 7.01016C11.7537 7.2421 11.2498 7.57453 10.8156 8.00748C10.3969 8.42496 10.0635 8.92748 9.81544 9.51505C9.56734 10.0871 9.44329 10.7134 9.44329 11.3937V12.5766H17.2352V18.8852H9.44329V37.4167Z" fill="#32AAFF" />
            <path d="M43.9136 37.4167H42.3785L39.913 34.0072C39.3083 34.5484 38.6648 35.0587 37.9825 35.538C37.3157 36.0019 36.6102 36.4116 35.8659 36.7672C35.1216 37.1074 34.354 37.378 33.5632 37.579C32.7879 37.78 31.9971 37.8805 31.1908 37.8805C29.4386 37.8805 27.7872 37.5867 26.2365 36.9992C24.7014 36.4116 23.3524 35.5612 22.1894 34.4479C21.042 33.3192 20.1348 31.943 19.4681 30.3195C18.8013 28.696 18.4679 26.8482 18.4679 24.7763C18.4679 22.8435 18.8013 21.0731 19.4681 19.465C20.1348 17.8415 21.042 16.4499 22.1894 15.2902C23.3524 14.1305 24.7014 13.2337 26.2365 12.5998C27.7872 11.9503 29.4386 11.6256 31.1908 11.6256C31.9971 11.6256 32.7957 11.7261 33.5865 11.9272C34.3773 12.1282 35.1449 12.4065 35.8892 12.7621C36.6335 13.1177 37.339 13.5352 38.0058 14.0146C38.688 14.4939 39.3238 15.0119 39.913 15.5685L42.3785 12.623H43.9136V37.4167ZM37.5173 24.7763C37.5173 23.9104 37.3468 23.0754 37.0056 22.2714C36.68 21.4519 36.2303 20.7329 35.6566 20.1144C35.0828 19.4805 34.4083 18.9779 33.633 18.6068C32.8732 18.2203 32.0591 18.027 31.1908 18.027C30.3224 18.027 29.5006 18.1739 28.7253 18.4677C27.9655 18.7615 27.2987 19.1944 26.725 19.7665C26.1668 20.3386 25.7248 21.0499 25.3992 21.9003C25.0736 22.7353 24.9108 23.6939 24.9108 24.7763C24.9108 25.8586 25.0736 26.825 25.3992 27.6754C25.7248 28.5104 26.1668 29.2139 26.725 29.786C27.2987 30.3581 27.9655 30.7911 28.7253 31.0849C29.5006 31.3787 30.3224 31.5255 31.1908 31.5255C32.0591 31.5255 32.8732 31.34 33.633 30.9689C34.4083 30.5823 35.0828 30.0798 35.6566 29.4613C36.2303 28.8274 36.68 28.1084 37.0056 27.3044C37.3468 26.4849 37.5173 25.6422 37.5173 24.7763Z" fill="#32AAFF" />
            <path d="M73.7089 24.7763C73.7089 26.7245 73.3755 28.5027 72.7087 30.1107C72.0419 31.7188 71.1348 33.1027 69.9874 34.2624C68.8399 35.4066 67.4909 36.2956 65.9402 36.9296C64.4051 37.5635 62.7537 37.8805 60.986 37.8805C59.2338 37.8805 57.5824 37.5558 56.0318 36.9064C54.4966 36.257 53.1476 35.3524 51.9846 34.1928C50.8372 33.0331 49.9301 31.657 49.2633 30.0644C48.5965 28.4563 48.2631 26.6936 48.2631 24.7763V2.6962H54.6362V14.2929C54.9773 13.8599 55.3882 13.4734 55.8689 13.1332C56.3651 12.793 56.8924 12.5147 57.4506 12.2982C58.0243 12.0818 58.6135 11.9194 59.2183 11.8112C59.823 11.6875 60.4123 11.6256 60.986 11.6256C62.7537 11.6256 64.4051 11.9581 65.9402 12.623C67.4909 13.2724 68.8399 14.1846 69.9874 15.3598C71.1348 16.5349 72.0419 17.9265 72.7087 19.5346C73.3755 21.1272 73.7089 22.8744 73.7089 24.7763ZM67.3125 24.7763C67.3125 23.8176 67.142 22.9285 66.8008 22.109C66.4752 21.2741 66.0255 20.5551 65.4518 19.9521C64.8781 19.349 64.2035 18.8774 63.4282 18.5373C62.6684 18.1971 61.8543 18.027 60.986 18.027C60.1176 18.027 59.2958 18.2203 58.5205 18.6068C57.7607 18.9779 57.0939 19.4805 56.5202 20.1144C55.9465 20.7329 55.4968 21.4519 55.1712 22.2714C54.8455 23.0754 54.6827 23.9104 54.6827 24.7763C54.6827 25.7349 54.8455 26.624 55.1712 27.4435C55.4968 28.263 55.9465 28.9743 56.5202 29.5773C57.0939 30.1803 57.7607 30.6597 58.5205 31.0153C59.2958 31.3555 60.1176 31.5255 60.986 31.5255C61.8543 31.5255 62.6684 31.3555 63.4282 31.0153C64.2035 30.6597 64.8781 30.1803 65.4518 29.5773C66.0255 28.9743 66.4752 28.263 66.8008 27.4435C67.142 26.624 67.3125 25.7349 67.3125 24.7763Z" fill="#32AAFF" />
            <path d="M83.5941 37.4167H77.2443V12.5766H78.7794L80.8727 15.5221C81.8961 14.5944 83.0591 13.8831 84.3616 13.3883C85.6642 12.8781 87.0132 12.623 88.4088 12.623H94.0143V18.9315H88.4088C87.742 18.9315 87.114 19.0552 86.5248 19.3026C85.9355 19.55 85.4238 19.8902 84.9896 20.3232C84.5555 20.7561 84.2143 21.2663 83.9662 21.8539C83.7181 22.4415 83.5941 23.0677 83.5941 23.7326V37.4167Z" fill="#32AAFF" />
            <path d="M104.458 5.8273C104.458 6.41487 104.341 6.96378 104.109 7.47403C103.892 7.98428 103.589 8.43269 103.202 8.81924C102.814 9.19034 102.357 9.49185 101.829 9.72379C101.318 9.94026 100.767 10.0485 100.178 10.0485C99.5888 10.0485 99.0305 9.94026 98.5033 9.72379C97.9916 9.49185 97.5419 9.19034 97.1543 8.81924C96.7821 8.43269 96.4798 7.98428 96.2472 7.47403C96.0301 6.96378 95.9215 6.41487 95.9215 5.8273C95.9215 5.2552 96.0301 4.71402 96.2472 4.20377C96.4798 3.67805 96.7821 3.22964 97.1543 2.85855C97.5419 2.472 97.9916 2.17048 98.5033 1.95401C99.0305 1.72208 99.5888 1.60611 100.178 1.60611C100.767 1.60611 101.318 1.72208 101.829 1.95401C102.357 2.17048 102.814 2.472 103.202 2.85855C103.589 3.22964 103.892 3.67805 104.109 4.20377C104.341 4.71402 104.458 5.2552 104.458 5.8273ZM103.365 37.4167H96.9682V12.5766H103.365V37.4167Z" fill="#32AAFF" />
            <path d="M129.996 17.5168L125.345 22.1786C125.112 21.5292 124.794 20.9494 124.391 20.4391C123.988 19.9134 123.53 19.4727 123.019 19.1171C122.522 18.7615 121.98 18.4909 121.391 18.3053C120.801 18.1198 120.197 18.027 119.576 18.027C118.708 18.027 117.886 18.2048 117.111 18.5605C116.351 18.9161 115.684 19.4186 115.11 20.068C114.552 20.702 114.11 21.4596 113.785 22.341C113.459 23.2223 113.296 24.1964 113.296 25.2633C113.296 26.1292 113.459 26.941 113.785 27.6986C114.11 28.4563 114.552 29.1212 115.11 29.6933C115.684 30.2654 116.351 30.7138 117.111 31.0385C117.886 31.3632 118.708 31.5255 119.576 31.5255C120.197 31.5255 120.794 31.4405 121.367 31.2704C121.941 31.1003 122.476 30.8607 122.972 30.5514C123.484 30.2267 123.934 29.8402 124.321 29.3918C124.724 28.9279 125.05 28.4176 125.298 27.861L129.95 32.5229C129.361 33.3578 128.678 34.1077 127.903 34.7726C127.143 35.4375 126.314 36.0019 125.414 36.4657C124.531 36.9296 123.592 37.2775 122.6 37.5094C121.623 37.7568 120.615 37.8805 119.576 37.8805C117.824 37.8805 116.173 37.5558 114.622 36.9064C113.087 36.2415 111.738 35.337 110.575 34.1928C109.427 33.0486 108.52 31.7111 107.854 30.1803C107.187 28.6496 106.853 27.0106 106.853 25.2633C106.853 23.3615 107.187 21.5833 107.854 19.9289C108.52 18.2744 109.427 16.8364 110.575 15.6149C111.738 14.3779 113.087 13.4038 114.622 12.6925C116.173 11.9813 117.824 11.6256 119.576 11.6256C120.615 11.6256 121.631 11.7571 122.623 12.0199C123.631 12.2828 124.585 12.6693 125.484 13.1796C126.399 13.6744 127.236 14.2851 127.996 15.0119C128.771 15.7386 129.438 16.5736 129.996 17.5168Z" fill="#32AAFF" />
            <path d="M140.928 35.0509C140.928 35.6076 140.828 36.1333 140.626 36.6281C140.424 37.1074 140.145 37.5249 139.789 37.8805C139.432 38.2362 139.013 38.5145 138.533 38.7155C138.052 38.932 137.533 39.0402 136.974 39.0402C136.432 39.0402 135.912 38.932 135.416 38.7155C134.935 38.5145 134.509 38.2362 134.137 37.8805C133.78 37.5249 133.493 37.1074 133.276 36.6281C133.074 36.1333 132.974 35.6076 132.974 35.0509C132.974 34.5098 133.074 33.9995 133.276 33.5202C133.493 33.0408 133.78 32.6234 134.137 32.2677C134.509 31.9121 134.935 31.6338 135.416 31.4328C135.912 31.2163 136.432 31.1081 136.974 31.1081C137.533 31.1081 138.052 31.2163 138.533 31.4328C139.013 31.6338 139.432 31.9121 139.789 32.2677C140.145 32.6234 140.424 33.0408 140.626 33.5202C140.828 33.9995 140.928 34.5098 140.928 35.0509Z" fill="#32AAFF" />
            <path d="M169.793 37.4167H168.258L165.793 34.0072C165.188 34.5484 164.544 35.0587 163.862 35.538C163.195 36.0019 162.49 36.4116 161.745 36.7672C161.001 37.1074 160.234 37.378 159.443 37.579C158.667 37.78 157.877 37.8805 157.07 37.8805C155.318 37.8805 153.667 37.5867 152.116 36.9992C150.581 36.4116 149.232 35.5612 148.069 34.4479C146.922 33.3192 146.014 31.943 145.348 30.3195C144.681 28.696 144.347 26.8482 144.347 24.7763C144.347 22.8435 144.681 21.0731 145.348 19.465C146.014 17.8415 146.922 16.4499 148.069 15.2902C149.232 14.1305 150.581 13.2337 152.116 12.5998C153.667 11.9503 155.318 11.6256 157.07 11.6256C157.877 11.6256 158.675 11.7261 159.466 11.9272C160.257 12.1282 161.024 12.4065 161.769 12.7621C162.513 13.1177 163.219 13.5352 163.885 14.0146C164.568 14.4939 165.203 15.0119 165.793 15.5685L168.258 12.623H169.793V37.4167ZM163.397 24.7763C163.397 23.9104 163.226 23.0754 162.885 22.2714C162.56 21.4519 162.11 20.7329 161.536 20.1144C160.962 19.4805 160.288 18.9779 159.513 18.6068C158.753 18.2203 157.939 18.027 157.07 18.027C156.202 18.027 155.38 18.1739 154.605 18.4677C153.845 18.7615 153.178 19.1944 152.605 19.7665C152.046 20.3386 151.604 21.0499 151.279 21.9003C150.953 22.7353 150.79 23.6939 150.79 24.7763C150.79 25.8586 150.953 26.825 151.279 27.6754C151.604 28.5104 152.046 29.2139 152.605 29.786C153.178 30.3581 153.845 30.7911 154.605 31.0849C155.38 31.3787 156.202 31.5255 157.07 31.5255C157.939 31.5255 158.753 31.34 159.513 30.9689C160.288 30.5823 160.962 30.0798 161.536 29.4613C162.11 28.8274 162.56 28.1084 162.885 27.3044C163.226 26.4849 163.397 25.6422 163.397 24.7763Z" fill="#32AAFF" />
            <path d="M182.144 5.8273C182.144 6.41487 182.028 6.96378 181.795 7.47403C181.578 7.98428 181.276 8.43269 180.888 8.81924C180.5 9.19034 180.043 9.49185 179.516 9.72379C179.004 9.94026 178.453 10.0485 177.864 10.0485C177.275 10.0485 176.717 9.94026 176.19 9.72379C175.678 9.49185 175.228 9.19034 174.84 8.81924C174.468 8.43269 174.166 7.98428 173.933 7.47403C173.716 6.96378 173.608 6.41487 173.608 5.8273C173.608 5.2552 173.716 4.71402 173.933 4.20377C174.166 3.67805 174.468 3.22964 174.84 2.85855C175.228 2.472 175.678 2.17048 176.19 1.95401C176.717 1.72208 177.275 1.60611 177.864 1.60611C178.453 1.60611 179.004 1.72208 179.516 1.95401C180.043 2.17048 180.5 2.472 180.888 2.85855C181.276 3.22964 181.578 3.67805 181.795 4.20377C182.028 4.71402 182.144 5.2552 182.144 5.8273ZM181.051 37.4167H174.654V12.5766H181.051V37.4167Z" fill="#32AAFF" />
          </svg>
        </div>
        <div className="row" style={{padding:'5px 70px 10px'}}>
          Sign in to continue
      </div>
        <div className="row">
          <StyledFirebaseAuth className="landing-login" uiConfig={firebaseConfig} firebaseAuth={auth()} />
        </div>
      </div>
    </div>
  )
})
export default LoginPage;